@model List<ResultProductDto>
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/UILayout/Layout.cshtml";

	var categoryList = ViewBag.Categories as List<ResultCategoryDto>;
}


<!-- Start Breadcrumb
============================================= -->
<div class="breadcrumb-area bg-cover text-center text-light" style="background-image: url(/source/assets/img/shape/11.jpg);">
	<div class="container">
		<div class="row">
			<div class="col-lg-12 col-md-12">
				<h1>Ürünlerimiz</h1>
				<ul class="breadcrumb">
					<li><a href="/Default/Index/"><i class="fas fa-home"></i>Ana Sayfa</a></li>
					<li>Menü</li>
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="food-menu-area inc-isotop bg-gray default-padding">
	<div class="container">
		<div class="food-menu-area">
			<div class="row">
				<div class="col-md-12 food-menu-content text-center">
					<div class="mix-item-menu">
						<button class="active" data-filter="*">Tümü</button>
						@foreach (var category in categoryList)
						{
							// Kategori adını filtreye uygun CSS sınıfına çevirme
							string filterClass = category.Name.ToLower().Replace(" ", "-");
							<button data-filter=".@filterClass">@category.Name</button>
						}

					</div>
					<!-- End Mixitup Nav-->

					<div class="masonary">
						<div id="portfolio-grid" class="food-menu-lists colums-4">

							@foreach (var item in Model)
							{
								// Kategori sınıfı belirleme (Aynen kalıyor)
								string itemCategoryClass = item.CategoryName != null ? item.CategoryName.ToLower().Replace(" ", "-") : "diger";

								<div class="food-menu-style-one pf-item @itemCategoryClass">
									<div class="item wow fadeInUp">

										<div class="thumb">
											<a href="javascript:void(0);"
											   style="cursor: pointer;"
											   data-name="@item.Name"
											   data-price="@item.Price"
											   data-img="@item.ImageUrl"
											   data-desc="@item.Description"
											   onclick="openProductModal(this)">
												<img src="@item.ImageUrl" alt="@item.Name">
											</a>
										</div>

										<div class="info">
											<h4><a href="javascript:void(0);">@item.Name</a></h4>

											<p class="text-clamp">
												@item.Description
											</p>

											<div class="item-price">
												<div class="left">
													<span>Fiyat</span>
													<h5>@item.Price ₺</h5>
												</div>
											</div>

											<div class="button mt-2">
												<a href="/Booking/Index/">Rezervasyon Yap</a>
											</div>
										</div>
									</div>
								</div>
							}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="productDetailModal" tabindex="-1" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content" style="border-radius: 15px; overflow: hidden;">
			<div class="modal-header border-0 pb-0">
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body text-center pt-0 px-4 pb-4">
				<img id="modalImg" src="" alt="Ürün Resmi" class="img-fluid rounded-3 mb-4" style="max-height: 250px; width: 100%; object-fit: cover; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">

				<h3 id="modalName" class="fw-bold text-dark mb-3">Ürün Adı</h3>

				<p id="modalDesc" class="text-muted mb-4" style="font-size: 1.1rem; line-height: 1.6;">
					Ürün açıklaması burada yer alacak.
				</p>

				<h2 id="modalPrice" class="text-theme fw-bold mb-4">0 ₺</h2>

				<a href="/Booking/Index/" class="btn btn-theme w-100 py-3 rounded-pill" style="font-weight: 600; font-size: 1.1rem;">Hemen Rezervasyon Yap</a>
			</div>
		</div>
	</div>
</div>